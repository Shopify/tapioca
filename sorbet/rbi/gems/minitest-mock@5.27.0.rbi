# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `minitest-mock` gem.
# Please instead update this file by running `bin/tapioca gem minitest-mock`.


# pkg:gem/minitest-mock#lib/minitest/mock.rb:3
module Minitest; end

# pkg:gem/minitest-mock#lib/minitest/mock.rb:239
module Minitest::Assertions
  # Assert that the mock verifies correctly and fail if not.
  #
  # pkg:gem/minitest-mock#lib/minitest/mock.rb:243
  def assert_mock(mock, msg = T.unsafe(nil)); end
end

# pkg:gem/minitest-mock#lib/minitest/mock.rb:251
module Minitest::Expectations
  # pkg:gem/minitest-mock#lib/minitest/mock.rb:259
  def must_verify(*args, **_arg1); end
end

# A simple and clean mock object framework.
#
# All mock objects are an instance of Mock
#
# pkg:gem/minitest-mock#lib/minitest/mock.rb:10
class Minitest::Mock
  # pkg:gem/minitest-mock#lib/minitest/mock.rb:47
  def initialize(delegator = T.unsafe(nil)); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def ===(*args, **kwargs, &b); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:119
  def __call(name, data); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:13
  def __respond_to?(*_arg0); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def class(*args, **kwargs, &b); end

  # Expect that method +name+ is called, optionally with +args+ (and
  # +kwargs+ or a +blk+), and returns +retval+.
  #
  #   @mock.expect(:meaning_of_life, 42)
  #   @mock.meaning_of_life # => 42
  #
  #   @mock.expect(:do_something_with, true, [some_obj, true])
  #   @mock.do_something_with(some_obj, true) # => true
  #
  #   @mock.expect(:do_something_else, true) do |a1, a2|
  #     a1 == "buggs" && a2 == :bunny
  #   end
  #
  # +args+ is compared to the expected args using case equality (ie, the
  # '===' operator), allowing for less specific expectations.
  #
  #   @mock.expect(:uses_any_string, true, [String])
  #   @mock.uses_any_string("foo") # => true
  #   @mock.verify  # => true
  #
  #   @mock.expect(:uses_one_string, true, ["foo"])
  #   @mock.uses_one_string("bar") # => raises MockExpectationError
  #
  # If a method will be called multiple times, specify a new expect for each one.
  # They will be used in the order you define them.
  #
  #   @mock.expect(:ordinal_increment, 'first')
  #   @mock.expect(:ordinal_increment, 'second')
  #
  #   @mock.ordinal_increment # => 'first'
  #   @mock.ordinal_increment # => 'second'
  #   @mock.ordinal_increment # => raises MockExpectationError "No more expects available for :ordinal_increment"
  #
  # pkg:gem/minitest-mock#lib/minitest/mock.rb:90
  def expect(name, retval, args = T.unsafe(nil), **kwargs, &blk); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def inspect(*args, **kwargs, &b); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def instance_eval(*args, **kwargs, &b); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def instance_variables(*args, **kwargs, &b); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:149
  def method_missing(sym, *args, **kwargs, &block); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def object_id(*args, **kwargs, &b); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def public_send(*args, **kwargs, &b); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:231
  def respond_to?(sym, include_private = T.unsafe(nil)); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def send(*args, **kwargs, &b); end

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def to_s(*args, **kwargs, &b); end

  # Verify that all methods were called as expected. Raises
  # +MockExpectationError+ if the mock object was not called as
  # expected.
  #
  # pkg:gem/minitest-mock#lib/minitest/mock.rb:139
  def verify; end

  private

  # pkg:gem/minitest-mock#lib/minitest/mock.rb:36
  def respond_to_missing?(*args, **kwargs, &b); end
end

# pkg:gem/minitest-mock#lib/minitest/mock.rb:11
Minitest::Mock::VERSION = T.let(T.unsafe(nil), String)

# pkg:gem/minitest-mock#lib/minitest/mock.rb:1
class MockExpectationError < ::StandardError; end

# Object extensions for Minitest::Mock.
#
# pkg:gem/minitest-mock#lib/minitest/mock.rb:266
class Object < ::BasicObject
  include ::Kernel
  include ::PP::ObjectMixin

  # Add a temporary stubbed method replacing +name+ for the duration
  # of the +block+. If +val_or_callable+ responds to #call, then it
  # returns the result of calling it, otherwise returns the value
  # as-is. If stubbed method yields a block, +block_args+ will be
  # passed along. Cleans up the stub at the end of the +block+. The
  # method +name+ must exist before stubbing.
  #
  #     def test_stale_eh
  #       obj_under_test = Something.new
  #       refute obj_under_test.stale?
  #
  #       Time.stub :now, Time.at(0) do
  #         assert obj_under_test.stale?
  #       end
  #     end
  # --
  # NOTE: keyword args in callables are NOT checked for correctness
  # against the existing method. Too many edge cases to be worth it.
  #
  # pkg:gem/minitest-mock#lib/minitest/mock.rb:288
  def stub(name, val_or_callable, *block_args, **block_kwargs, &block); end
end
